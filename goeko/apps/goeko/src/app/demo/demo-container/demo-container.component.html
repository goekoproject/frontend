<div class="demo-wrapper" [formGroup]="form">
	<section class="section-step">
		<img class="demo-logo go-link" src="assets/logo_footer.png" alt="logo_footer" [routerLink]="'/'" />

		<ul class="section-elements">
			<li
				class="elements"
				[class.elements--active]="index === slideSelected"
				*ngFor="let element of formField; let index = index"
			>
				<span class="material-symbols-rounded"> done </span>
				<p>{{ element.nameSection }}</p>
			</li>
		</ul>
	</section>
	<section class="section-form">
		<go-carousel (valueChangeButton)="addFormGroup($event)" [hiddenButtonNext]="isSlideSummary">
			<ng-container *ngFor="let element of formField; last as isLast">
				<section *goSlide [class.content-form]="!isSlideSummary">
					<ng-container *ngIf="!(isLast && isSlideSummary); else summary">
						<!--FORM ACTORS-->
						<div class="form-wrapper" [formGroupName]="element.controlName">
							<div class="form-header">
								<span class="material-symbols-rounded demo-header-icon"> {{ element.icon }} </span>
								<h3>{{ element.nameSection }}</h3>
							</div>

							<div class="form-field form-field--center" *ngFor="let field of element.fields">
								<!-- FIELD FORM -->

								<ng-container *ngIf="!field.hidden">
									<ng-container [ngSwitch]="field.type">
										<!-- INPUT NUMBER -->
										<ng-container *ngSwitchCase="'number'">
											<go-input
												[textHelp]="field.textHelp"
												[formControlName]="field.controlName"
												type="number"
											>
												<p slot="label">{{ field.label }}</p>
											</go-input>
										</ng-container>
										<!-- INPUT SELECT -->

										<ng-container *ngSwitchCase="'select'">
											<label for="{{ field.controlName }}">{{ field.label }}</label>

											<select
												[formControlName]="field.controlName"
												[id]="field.controlName"
												[name]="field.controlName"
											>
												<option value="">--Please choose an option--</option>
												<option
													*ngFor="let option of dataSelect[field.controlName]"
													[value]="option.title"
												>
													{{ option.title }}
												</option>
											</select>
										</ng-container>

										<!-- INPUT SELECT-MULTIPLE-->

										<ng-container *ngSwitchCase="'select-multiple'">
											<label for="{{ field.controlName }}">{{ field.label }}</label>

											<select
												multiple
												[formControlName]="field.controlName"
												[id]="field.controlName"
												[name]="field.controlName"
											>
												<option value="">--Please choose an option--</option>
												<option
													*ngFor="let option of dataSelect[field.controlName]"
													[value]="option.title"
												>
													{{ option.title }}
												</option>
											</select>
										</ng-container>
										<!-- INPUT TEXT -->

										<ng-container *ngSwitchDefault>
											<go-input [textHelp]="field.textHelp" [formControlName]="field.controlName">
												<p slot="label">{{ field.label }}</p>
											</go-input>
										</ng-container>
									</ng-container>
								</ng-container>
							</div>
						</div>
					</ng-container>

					<!--SUMMARY-->
					<ng-template #summary>
						<div class="demo-summary">
							<h1>{{ element.nameSection }}</h1>
							<ul class="section-elements">
								<ng-container *ngFor="let element of formField; last as isLast">
									<li class="elements" *ngIf="!isLast">
										<div class="summary-section-header">
											<span class="material-symbols-rounded"> {{ element.icon }} </span>
											<h2>{{ element.nameSection }}</h2>
										</div>
										<div class="summary-section-body">
											<div class="form-field" *ngFor="let field of element.fields">
												<h4>{{ field.label }}</h4>
												<p>
													{{
														this.form.value[element.controlName][
															field.controlName
														].toString() || '-'
													}}
												</p>
											</div>
										</div>
									</li>
								</ng-container>
								<div class="form-actions">
									<button type="button" go-button appearance="white">Cancel</button>
									<go-goeko-button class="button-submit" (click)="getResults()">
										<span class="goeko-go" btn-logo></span>
										Demo</go-goeko-button
									>
								</div>
							</ul>
						</div>
					</ng-template>
				</section>
			</ng-container>
		</go-carousel>
	</section>
</div>
