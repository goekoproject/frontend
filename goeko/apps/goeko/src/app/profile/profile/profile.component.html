<go-notification type="info" class="notification" *ngIf="savedProfileOK">
  <div class="policy-password">
    <p>{{ 'NOTIFICATION.save_ok' | translate }}</p>
  </div>
</go-notification>

@if (form) {
<div class="profile-data">
  <form [formGroup]="form" class="profile-page">
    <ng-container *ngFor="let itemForm of formProfile">
      @switch (itemForm.type) {
        @case ('select-multiple') {
            <div class="select-profile">
              <label for="{{ itemForm.controlName }}">{{
                itemForm.label | translate
              }}</label>
  
              <ui-super-select
                [placeholder]="'SELECT_DATA_LABEL.defaultLabel' | translate"
                [multiple]="true"
                [formControlName]="itemForm.controlName"
                [id]="itemForm.controlName"
                [name]="itemForm.controlName"
                [compareWith]="defaultSetSuperSelect"
              >
                <ng-container *ngIf="itemForm.dataSelectKey">
                  <super-option
                    *ngFor="let option of dataSelect[itemForm.dataSelectKey]"
                    [value]="option"
                  >
                    {{ option.keyLang | translate }}
                  </super-option>
                </ng-container>
              </ui-super-select>
            </div>
        }

        @case ('select') {
            <div class="select-profile">
              <label for="{{ itemForm.controlName }}">{{
                itemForm.label | translate
              }}</label>
  
              <ui-super-select
                [placeholder]="'SELECT_DATA_LABEL.defaultLabel' | translate"
                [formControlName]="itemForm.controlName"
                [id]="itemForm.controlName"
                [name]="itemForm.controlName"
              >
                <ng-container *ngIf="itemForm.dataSelectKey">
                  <super-option
                    *ngFor="let option of dataSelect[itemForm.dataSelectKey]"
                    [value]="option.code"
                  >
                    {{ option.keyLang | translate }}
                  </super-option>
                </ng-container>
              </ui-super-select>
            </div>
        }

        @case ('file-link') {
        <goeko-input-file (fileChange)="fileChange($event)" [fileUrl]="fileProfile?.url" [alt]="fileProfile?.id"></goeko-input-file>

        } 
        @default {
          
          <go-input
            [formControlName]="itemForm.controlName"
            type="{{ itemForm.type }}"
            class="{{ itemForm.className }}"
          >
            <p slot="label">{{ itemForm.label | translate }}</p>
          </go-input>
        }
          
      }
    </ng-container>

    <div class="profile-actions">
      <button
        type="button"
        go-button
        appearance="white"
        [routerLink]="['/dashboard']"
        routerLinkActive="router-link-active"
      >
        {{ 'cancel' | translate }}
      </button>
      <button
        type="button"
        go-button
        appearance="primary"
        [disabled]="form.invalid"
        type="submit"
        (click)="dataProfile().id ? updateProfile() : saveProfile()"
      >
        {{ 'save' | translate }}
      </button>
    </div>
  </form>
</div>
}

<br />

