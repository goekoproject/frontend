<fieldset class="ecosolutions-fieldset" [formGroup]="parentForm()">
  <legend>{{ 'FORM_LABEL.basicInformation' | translate }}</legend>
  <ng-container formArrayName="nameTranslations">
    @for (translation of nameTranslations().controls; track $index + '-name'; let i = $index) {
      <ng-container [formGroupName]="i">
        @if (translation.value?.lang === selectedFormLang().code) {
          <div class="relative">
            <goeko-go-input [formControlName]="'label'" [label]="'FORM_LABEL.solutionName' | translate" />
          </div>
        }
      </ng-container>
    }
  </ng-container>

  <ng-container formArrayName="descriptionTranslations">
    @for (translation of descriptionTranslations().controls; track $index + '-descriptionTranslations'; let i = $index) {
      @if (translation.value?.lang === selectedFormLang().code) {
        <div [formGroupName]="i" class="relative">
          <goeko-go-textarea [formControlName]="'label'" [label]="'FORM_LABEL.solutionDescription' | translate" [maxLength]="100" />
        </div>
      }
    }
  </ng-container>

  <ng-container formArrayName="detailedDescriptionTranslations">
    @for (translation of detailedDescriptionTranslations().controls; track $index + 'detailedDescriptionTranslations'; let i = $index) {
      @if (translation.value?.lang === selectedFormLang().code) {
        <div [formGroupName]="i" class="wrapper-textarea">
          <label for="detailedDescriptionTranslations">
            {{ 'FORM_LABEL.technicalDescription' | translate }}
          </label>

          <div>
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar" class="block"> </ngx-editor-menu>
            <ngx-editor
              [editor]="editor"
              [formControlName]="'label'"
              [class.editor-invalid]="
                translation.get('label')?.invalid && translation.get('label')?.touched && translation.get('label')?.dirty
              "
              [placeholder]="'FORM_LABEL.editorText' | translate"></ngx-editor>
            <goeko-form-error-text [form]="translation.get('label')">
              {{ 'ERRORS_FORM.required' | translate }}
            </goeko-form-error-text>
          </div>
        </div>
      }
    }
  </ng-container>

  <ng-container formArrayName="priceDescriptionTranslations">
    @for (translation of priceDescriptionTranslations().controls; track $index + '-priceDescriptionTranslations'; let i = $index) {
      @if (translation.value?.lang === selectedFormLang().code) {
        <div [formGroupName]="i" class="relative">
          <goeko-go-textarea
            id="priceDescriptionTranslations"
            [formControlName]="'label'"
            [label]="'FORM_LABEL.infoPrice' | translate"
            [maxLength]="100" />
        </div>
      }
    }
  </ng-container>
</fieldset>
